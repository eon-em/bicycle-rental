<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8" />
<title>Listar Usuários</title>

</head>
<body>
	<div class="container my-2" align="center">
		<h1>Usuários</h1>
		<a th:href="@{/}">Home</a>
		<hr>
		<table border="1" class="table table-striped table-responsive-md">
			<thead>
				<tr>
					<th th:text="Id"></th>
					<th th:text="Email"></th>
					<th th:text="Papel"></th>
					<th>Ações</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="usuario : ${usuarios}">
					<td th:text="${usuario.id}"></td>
					<td th:text="${usuario.email}"></td>
					<td th:text="${usuario.papel}"></td>
					<div th:if="${usuario.papel == 'ADMIN'}">
						<td>
							<a class="btn btn-info btn-sm"
								th:href="@{/usuarios/editar/{id} (id=${usuario.id}) }" role="button"> 
								<span class="oi oi-brush" th:title="#{link.editar.label}" aria-hidden="true">Editar</span>
							</a>
							<a class="btn btn-info btn-sm"
								th:href="@{/usuarios/excluir/{id} (id=${usuario.id}) }" role="button"> 
								<span class="oi oi-brush" th:title="#{link.excluir.label}" aria-hidden="true">Excluir</span>
							</a>
						</td>	
					</div>
					<div th:if="${usuario.papel == 'LOJA'}">
						<td>
							<a class="btn btn-info btn-sm"
								th:href="@{/lojas/editar/{id} (id=${usuario.id}) }" role="button"> 
								<span class="oi oi-brush" th:title="#{link.editar.label}" aria-hidden="true">Editar</span>
							</a>
							<a class="btn btn-info btn-sm"
								th:href="@{/lojas/excluir/{id} (id=${usuario.id}) }" role="button"> 
								<span class="oi oi-brush" th:title="#{link.excluir.label}" aria-hidden="true">Excluir</span>
							</a>
						</td>	
					</div>
					<div th:if="${usuario.papel == 'CLIENTE'}">
						<td>
							<a class="btn btn-info btn-sm"
								th:href="@{/clientes/editar/{id} (id=${usuario.id}) }" role="button"> 
								<span class="oi oi-brush" th:title="#{link.editar.label}" aria-hidden="true">Editar</span>
							</a>
							<a class="btn btn-info btn-sm"
								th:href="@{/clientes/excluir/{id} (id=${usuario.id}) }" role="button"> 
								<span class="oi oi-brush" th:title="#{link.excluir.label}" aria-hidden="true">Excluir</span>
							</a>
						</td>	
					</div>	
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>